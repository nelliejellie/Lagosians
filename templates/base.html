{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>{% block title %}{% endblock %}</title>
        <link href="{% static 'css/base.css' %}" rel="stylesheet">
    </head>
    <body>
        <div id="header">
            <span><img class="imglogo" src="{% static 'images/danfo.jpg' %}" alt="" style="height: 30px;width:30px;"></span>
            <span class="logo">Lagosians</span>
            {% if request.user.is_authenticated %}
            <ul class="menu">
                <li {% if section == 'lifestyle' %} class="selected"{% endif %}>
                        <a href="{% url 'pages:index' %}">Lagos</a>
                </li>
                <li {% if section == 'dashboard' %} class="selected"{% endif %}>
                    <a href="{% url 'dashboard' %}">Home</a>
                </li>
                <li {% if section == 'images' %} class="selected"{% endif %}>
                    <a href="{% url 'images:list' %}">My Images</a>
                </li>
                <li {% if section == 'people' %} class="selected"{% endif %}>
                    <a href="{% url 'user_list' %}">Meet People</a>
                </li>
                <li {% if section == 'ads' %} class="selected"{% endif %}>
                    <a href="#">Ads</a>
                </li>
            </ul>
            {% endif %}

            <span class="user">
                {% if request.user.is_authenticated %}
                    Hello {{ request.user }},
                    <a href="{% url 'logout' %}">Logout</a>
                {% else %}
                    <a href="{% url 'login' %}">Log-in</a>
                {% endif %}
            </span>
        </div>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li class="{{message.tags}}">
                        {{ message|safe}}
                        <a href="#" class="close">x</a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        <div id="content">
            {% block content %}
            {% endblock %}
        </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="{% static  'js/jquery-3.4.1.min.js' %}"></script>
    <script src="{% static  'js/script.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2.2.1/src/js.cookie.min.js"></script>
    <script>
        var csrftoken = Cookies.get('csrftoken');
        function csrfSafeMethod(method){
            // these http methods do not require csrf protection
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }
        $.ajaxSetup({
            beforeSend: function(xhr, settings){
                if (!csrfSafeMethod(settings.type)  && !this.crossDomain) {
                    xhr.setRequestHeader('X-CSRFToken', csrftoken);
                }
            }
        });
        $(document).ready(function(){
            {% block domready %}

            {% endblock %}
        })
    </script>
</html>